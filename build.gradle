/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Kotlin application project to get you started.
 */

plugins {
    id "nexstra.core-dsl"

}
apply from: "${commonDir}/lib-common.gradle"

ext {
    aws = versions.aws
    log4j = versions.log4j
    jackson_version = versions.jackson
}
repositories {
    maven {
        url  "https://dl.bintray.com/daldei/maven"
    }
}

dependencies {
    implementation "org.apache.logging.log4j:log4j-jcl:${log4j}" // commons logging bridge
    implementation jackson
    api "io.github.microutils:kotlin-logging:${microutilsVersion}"

    // Use the Kotlin test library
    testImplementation 'org.jetbrains.kotlin:kotlin-test'
    compileOnly("com.nexstra:jcommander:1.73")

    // Use the Kotlin JUnit integration
 //   testImplementation 'org.jetbrains.kotlin:kotlin-test-junit'
    implementation "com.amazonaws:aws-java-sdk-workdocs:$awsversion"
    testImplementation("io.kotlintest:kotlintest-runner-junit5:3.3.2")
    implementation "org.apache.tika:tika-core:1.2"

}

// Define the main class for the application
//mainClassName = 'workdocs.AppKt'


test {
    testLogging {
        showStandardStreams = true
        events "PASSED", "FAILED", "SKIPPED", "STANDARD_OUT", "STANDARD_ERROR"
    }
    environment 'AWS_REGION', 'us-west-2'
    environment 'AWS_PROFILE', 'workspaces'
    systemProperty 'aws.region', 'us-west-2'
    systemProperty 'aws.profile', 'workspaces'
}

compileTestKotlin.dependsOn compileJava

