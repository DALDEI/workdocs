/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Kotlin application project to get you started.
 */

plugins {
    // Apply the Kotlin JVM plugin to add support for Kotlin on the JVM
    id 'org.jetbrains.kotlin.jvm' version '1.3.41'
    id "nexstra.core-dsl" version "1.1.5"

    // Apply the application to add support for building a CLI application
    id 'application'
    id "io.spring.dependency-management" version "1.0.6.RELEASE"

}
ext {
        aws = "1.11.475"
    log4j = "2.11.1"
    jackson_version = "2.9.8"
}
repositories {
    // Use jcenter for resolving your dependencies.
    // You can declare any Maven/Ivy/file repository here.
    jcenter()
    maven {
        url  "https://dl.bintray.com/daldei/maven"
    }
    mavenLocal()
}

    dependencyManagement {
        imports {
            mavenBom("com.amazonaws:aws-java-sdk-bom:${aws}")
            mavenBom "org.apache.logging.log4j:log4j-bom:${log4j}"
        }
    }

dependencies {
    // Use the Kotlin JDK 8 standard library
    implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8'
    implementation "org.apache.logging.log4j:log4j-jcl:${log4j}" // commons logging bridge

    // Use the Kotlin test library
    testImplementation 'org.jetbrains.kotlin:kotlin-test'
    implementation("com.nexstra:jcommander:1.73")

    // Use the Kotlin JUnit integration
 //   testImplementation 'org.jetbrains.kotlin:kotlin-test-junit'
    implementation "com.amazonaws:aws-java-sdk-workdocs"

    testImplementation("io.kotlintest:kotlintest-runner-junit5:3.3.2")


    implementation "org.apache.logging.log4j:log4j-core"
    // SOON  log4j
    implementation "org.apache.logging.log4j:log4j-api-kotlin:+" // commons logging bridge

    implementation "org.apache.tika:tika-core:1+"
    implementation "com.fasterxml.jackson.module:jackson-module-kotlin:${jackson_version}"
    implementation "com.fasterxml.jackson.dataformat:jackson-dataformat-properties:${jackson_version}"
    implementation "com.fasterxml.jackson.datatype:jackson-datatype-jdk8:${jackson_version}"
    implementation "com.fasterxml.jackson.datatype:jackson-datatype-jsr310:${jackson_version}"

}

// Define the main class for the application
mainClassName = 'workdocs.AppKt'


test {
    testLogging {
        showStandardStreams = true
        events "PASSED", "FAILED", "SKIPPED", "STANDARD_OUT", "STANDARD_ERROR"
    }
    environment 'AWS_REGION', 'us-west-2'
    environment 'AWS_PROFILE', 'nexstraw'
    systemProperty 'aws.region', 'us-west-2'
    systemProperty 'aws.profile', 'nexstraw'
}

compileTestKotlin.dependsOn compileJava

